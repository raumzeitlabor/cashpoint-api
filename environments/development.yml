# configuration file for development environment

# the logger engine to use
# console: log messages to STDOUT (your console where you started the
#          application server)
# file:    log message to a file in log/
#logger: "console"

logger: log4perl
log4perl:
  config: |
    #log4perl.threshold = OFF
    log4perl.logger                  = DEBUG, Screen
    log4perl.rootLogger              = INFO, LOG1
    log4perl.appender.LOG1           = Log::Log4perl::Appender::File
    log4perl.appender.LOG1.utf8      = 1
    log4perl.appender.LOG1.filename  = cashpoint.log
    log4perl.appender.LOG1.mode      = append
    log4perl.appender.LOG1.layout    = Log::Log4perl::Layout::PatternLayout
    log4perl.appender.LOG1.layout.ConversionPattern = %d [%-5p] %m%n
    log4perl.appender.Screen         = Log::Log4perl::Appender::Screen
    log4perl.appender.Screen.stderr  = 1
    log4perl.appender.Screen.stdout  = 0
    log4perl.appender.Screen.utf8    = 1
    log4perl.appender.Screen.layout  = Log::Log4perl::Layout::PatternLayout
    log4perl.appender.Screen.layout.ConversionPattern = %d [%-5p] %m%n

# the log level for this environement
# core is the lowest, it shows Dancer's core log messages as well as yours
# (debug, warning and error)
log: "core"

# should Dancer consider warnings as critical errors?
warnings: 0

# should Dancer show a stacktrace when an error is caught?
show_errors: 1

# auto_reload is a development and experimental feature
# you should enable it by yourself if you want it
# Module::Refresh is needed
#
# Be aware it's unstable and may cause a memory leak.
# DO NOT EVER USE THAT FEATURE IN PRODUCTION
# OR TINY KITTENS SHALL DIE WITH LOTS OF SUFFERING
auto_reload: 0

plugins:
  DBIC:
    cashpoint:
      schema_class: Cashpoint::Model
#      dsn: dbi:mysql:database=cashpoint;host=127.0.0.1
#      user: 'cashpoint'
#      pass: 'JiGBV1B0AsVwDNfLZJp7cBU'
#      options:
#        RaiseError: 1
#        PrintError: 1
      dsn: dbi:SQLite:dbname=./cashpoint.db;sqlite_unicode=1
      options:
        RaiseError: 1
        PrintError: 1
        sqlite_unicode: 1

  Database:
    driver: 'mysql'
    database: 'nutzerdb'
    host: '127.0.0.1'
    port: 3306
    username: 'cashpoint'
    password: 'JiGBV1B0AsVwDNfLZJp7cBU'
    connection_check_threshold: 10
    dbi_params:
      RaiseError: 1
      AutoCommit: 1
    on_connect_do: ["SET NAMES 'utf8'", "SET CHARACTER SET 'utf8'" ]
    log_queries: 1

# user id of administrators
ADMINISTRATORS: [7, 11, 5, 24]

# failed login attempts until credentials will be locked
MAX_FAILED_ATTEMPTS: 3

# time in minutes for which credentials will be locked
FAILED_LOGIN_LOCK: 60
